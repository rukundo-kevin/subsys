tags:
  - name: Assignment
    description: Assignment Management

paths:
  /api/assignment:
    get:  
      summary: Get all assignments
      tags:
        - Assignment
      security:
        - bearerAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Assignment'
              example:
                - id: 1
                  title: Assignment 1
                  description: |
                    A brief description of the field using **Markdown** syntax.
                    
                    You can use **bold**, *italic*, [links](https://example.com),
                    and other Markdown formatting options here.
                  isDraft: false
                  lecturer:
                    id: 1
                    staffId: LEC00123
                  deadline: 2021-01-01T00:00:00Z
                  created_at: 2021-01-01T00:00:00Z
                  updated_at: 2021-01-01T00:00:00Z
                - id: 2
                  title: Assignment 2
                  description: |
                    A brief description of the field using **Markdown** syntax.
                    
                    You can use **bold**, *italic*, [links](https://example.com),
                    and other Markdown formatting options here.
                  deadline: 2021-01-01T00:00:00Z
                  isDraft: true
                  lecturer:
                    id: 1
                    staffId: LEC00123
                  created_at: 2021-01-01T00:00:00Z
                  updated_at: 2021-01-01T00:00:00Z
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /api/assignment/{assignmentId}: 
    get:
      summary: Get assignment by id
      tags:
        - Assignment
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: assignmentId
          schema:
            type: number
          required: true
          description: assignment id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Assignment'
              example:
                id: 1
                title: Assignment 1
                description: |
                  A brief description of the field using **Markdown** syntax.
                  
                  You can use **bold**, *italic*, [links](https://example.com),
                  and other Markdown formatting options here.
                deadline: 2021-01-01T00:00:00Z
                isDraft: false
                lecturer:
                  id: 1
                  staffId: LEC00123
                created_at: 2021-01-01T00:00:00Z
                updated_at: 2021-01-01T00:00:00Z
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
          
  /api/assignment/draft:
    post:
      summary: Create a new assignment Draft
      tags:
        - Assignment
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssignmentDraft'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssignmentDraft'
              example:
                id: 1
                title: Assignment 1
                description: |
                  A brief description of the field using **Markdown** syntax.
                  
                  You can use **bold**, *italic*, [links](https://example.com),
                  and other Markdown formatting options here.
                deadline: 2021-01-01T00:00:00Z
                created_at: 2021-01-01T00:00:00Z
                updated_at: 2021-01-01T00:00:00Z
        '400':
          $ref: '#/components/responses/ValidationError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  
  /api/assignment/publish/{id}:
    patch:
      summary: Publish assignment
      tags:
        - Assignment
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: id
          schema:
            type: number
          required: true
          description: assignment id    
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssignmentDraft' 
      responses:
        '201':
          description: Publish
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssignmentDraft'
        '400':
          $ref: '#/components/responses/ValidationError'        
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'  
        '404':
          $ref: '#/components/responses/NotFound'

  /api/assignment/invite/{id}:
    post:
      summary: Invite students to assignment
      tags:
        - Assignment
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: id
          schema:
            type: number
          required: true
          description: assignment id     
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StudentId' 
      responses:
        '200':
          description: Invitation sent successfully
        '404':
          $ref: '#/components/responses/NotFound'        